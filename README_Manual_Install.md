# Руководство по ручной настройке безопасного VPN-сервера на базе WireGuard с веб-интерфейсом управления WGDashboard и возможностью обфускации трафика для обхода блокировок при помощи WSTunel

## Введение

Данный набор руководств предназначен для пошаговой настройки защищенного VPN-сервера на базе WireGuard с веб-интерфейсом управления WGDashboard и возможностью обфускации трафика для обхода блокировок при помощи WSTunel. Представленные инструкции подробно описывают весь процесс от начальной подготовки сервера до настройки клиентских устройств.

## Преимущества системы

- **Высокая скорость и производительность** благодаря использованию протокола WireGuard
- **Удобное управление** через веб-интерфейс WGDashboard
- **Обход блокировок** с помощью обфускации трафика через Wstunnel
- **Безопасность** за счет современных криптографических алгоритмов и правильной настройки файрвола
- **Масштабируемость** — возможность добавлять неограниченное количество пользователей

## Структура руководств

Руководство разделено на несколько логических модулей для облегчения настройки и понимания:

1. [**Подготовка сервера**](manual_Install/0README_Preparing_the_server_for_installation_and_configuration.md) - обновление системы и установка необходимых зависимостей
2. [**Изменение имен сетевых интерфейсов**](manual_Install/1README_Change_Default_Network_Name_(ens33_ens3_ens18)_to_eth0.md) - опциональный этап для удобства конфигурации
3. [**Настройка файрвола**](manual_Install/2README_Configuring_The_Firewall.md) - настройка iptables для защиты и правильной работы всех компонентов
4. [**Установка WireGuard**](manual_Install/3README_WireGuard_install.md) - настройка основного VPN-сервера
5. [**Установка WGDashboard**](manual_Install/4README_WGDashboard_Install.md) - настройка веб-панели управления
6. [**Настройка обфускации трафика**](manual_Install/5README_WSTunel_Obfuscation.md) - дополнительный уровень для обхода блокировок

## Последовательность выполнения

Для корректной работы системы рекомендуется выполнять руководства в указанном порядке:

### 1. [**Подготовка сервера**](manual_Install/0README_Preparing_the_server_for_installation_and_configuration.md) (обязательно)

Выполняется **в первую очередь** для обновления системы и установки базовых компонентов. Этот шаг обеспечивает надежную основу для всех последующих действий.

### 2. [**Изменение имен сетевых интерфейсов**](manual_Install/1README_Change_Default_Network_Name_(ens33_ens3_ens18)_to_eth0.md) (опционально)

Выполняется **после базовой подготовки**, но **до настройки файрвола**. Этот шаг **не обязателен**, но рекомендован для упрощения последующей настройки и совместимости со скриптами.

### 3. [**Настройка файрвола**](manual_Install/2README_Configuring_The_Firewall.md) (обязательно)

Выполняется **после базовой подготовки** и изменения сетевых имен (если оно производилось). Этот шаг **критически важен** для безопасности и корректной работы VPN.

### 4. [**Установка WireGuard**](manual_Install/3README_WireGuard_install.md) (обязательно)

Выполняется **после настройки файрвола**. Этот шаг настраивает основной VPN-сервер и является основой всей системы.

### 5. [**Установка WGDashboard**](manual_Install/4README_WGDashboard_Install.md) (рекомендуется)

Выполняется **после установки WireGuard**. Этот шаг настраивает веб-интерфейс для удобного управления пользователями и конфигурациями.

### 6. [**Настройка обфускации трафика**](manual_Install/5README_WSTunel_Obfuscation.md) (опционально)

Выполняется **после установки WireGuard и WGDashboard**. Этот шаг позволяет обойти блокировки WireGuard путем маскировки трафика под WebSocket-соединения.

## Общие требования

Для успешной настройки системы вам потребуется:

1. **Сервер** с Linux-системой (тестировалось на Debian/Ubuntu)
2. **Права администратора** (root) на сервере
3. **Публичный IP-адрес** для доступа к серверу
4. **Минимум 1 ГБ RAM** и **5 ГБ свободного дискового пространства**
5. **Базовые знания** Linux-администрирования и работы с командной строкой

## Возможные сценарии использования

### Сценарий 1: Базовый VPN-сервер
- Выполните шаги 1, 3, 4
- Идеально подходит для личного использования с ограниченным числом устройств

### Сценарий 2: VPN-сервер с веб-управлением
- Выполните шаги 1, 3, 4, 5
- Подходит для семейного использования и малых команд с необходимостью частого добавления/удаления пользователей

### Сценарий 3: Защищенный VPN с обходом блокировок
- Выполните все шаги (1-6)
- Необходим при использовании в странах с ограничениями интернета или при блокировках протокола WireGuard

## Решение проблем

В случае возникновения проблем:

1. **Проверьте логи**:
   ```bash
   sudo journalctl -u wg-quick@wg0
   sudo journalctl -u wstunnel
   sudo journalctl -u wg-dashboard
   ```

2. **Проверьте статус служб**:
   ```bash
   sudo systemctl status wg-quick@wg0
   sudo systemctl status wstunnel
   sudo systemctl status wg-dashboard
   ```

3. **Проверьте открытые порты**:
   ```bash
   sudo ss -tulpn | grep -E '443|20820|10086|22'
   ```

## Дополнительные рекомендации

- Регулярно **обновляйте систему** для устранения уязвимостей
- **Меняйте стандартные порты** для повышения безопасности
- **Настройте мониторинг** сервера для своевременного обнаружения проблем
- **Создавайте резервные копии** конфигурационных файлов
- **Используйте сильные пароли** для доступа к WGDashboard

## Доступ к WGDashboard

После завершения установки и настройки WGDashboard, вы можете получить доступ к веб-интерфейсу по адресу:
```
http://IP-АДРЕС-СЕРВЕРА:10086
```
Где `IP-АДРЕС-СЕРВЕРА` - это публичный IP-адрес вашего VPN-сервера.

## Заключение

Данный набор руководств позволяет пошагово настроить современную и безопасную VPN-систему с гибкими возможностями управления и обхода блокировок. Следуя инструкциям в указанной последовательности, вы получите полностью функциональное решение для защиты вашего интернет-соединения. 